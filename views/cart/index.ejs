<html>
  <head>
    <title>Items</title>
    <link rel="stylesheet" href="/styles/items.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
  </head>

  <body>
    <div>
      <h2>Total Cost : $<%= totalCost[0].total == null ? 0 : totalCost[0].total %> </h2>
    </div>
    <div id="items-container" class="container">
      <div class="grid">
        <% cartItems.forEach(function(item){ %>
        <div class="grid-item">
          <div class="grid-item-container">
            <div class="grid-item-name">
              <h3><%= item.name %></h3>
            </div>

            <div class="grid-item-image-container">
              <img src="/images/<%= item.image %>" />
            </div>
            <div class="grid-item-description-price">
              <div class="grid-item-description">
                <p><%= item.description %></p>
              </div>
            </div>
            <div class="grid-item-price grid-item-quantity">
              <p>Quantity : <%= item.quantity %></p>
            </div>
            <div class="grid-item-price">
              <p>
                Total : $<%= Math.round((item.quantity* item.price) * 100)/100
                %>
              </p>
            </div>
          </div>
          <div class="grid-item-buttons">
            <button
              onclick="location.href = '/add/to/cart/<%=item.id%>';"
              class="grid-item-button button-add"
              type="button"
            >
              <i class="material-icons">exposure_plus_1</i>
            </button>
            <button
              onclick="location.href = '/delete/from/cart/<%=item.id%>';"
              class="grid-item-button button-delete"
              type="button"
            >
              <i class="material-icons">exposure_neg_1</i>
            </button>
          </div>
        </div>
        <% }); %>

        <button onclick="location.href = '/';">
          BACK TO ITEMS LIST
        </button>
        <button onclick="location.href = '/checkout';">
          <h1>Checkout</h1>
        </button>
      </div>
      <div>
        <h2>Total Cost : $<%= totalCost[0].total == null ? 0 : totalCost[0].total %> </h2>
      </div>
    </div>
  </body>
  
  <script type="text/javascript">
    var images = document.getElementsByTagName("img");
    var audio = new Audio("/images/audiomass-output.mp3");
    for (const image of images) {
      image.addEventListener("mouseover", function () {
        // do whatever
        audio.play();
        audio.onended = function () {
          audio.play();
        };
      });

      image.addEventListener("mouseout", function () {
        // do whatever
        audio.pause();
      });
    }
  </script>
</html>